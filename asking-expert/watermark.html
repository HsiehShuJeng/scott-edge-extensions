<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scott's Watermark Remover</title>
    <link rel="stylesheet" href="styles/watermark.css">
</head>

<body>
    <h1>Gemini Image Polisher</h1>

    <div class="container">
        <div id="drop-zone">
            <p>Drag and drop image to polish</p>
            <p><small>or click to select file</small></p>
            <input type="file" id="file-input" accept="image/*" style="display: none;">
        </div>

        <div class="controls">
            <div class="controls-grid">
                <!-- Left Column: Existing Controls -->
                <div class="controls-column">
                    <h3>General Settings</h3>
                    <div class="settings-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" id="resize-checkbox" checked>
                            <span class="checkbox-label">Scale to 1920px width</span>
                        </label>
                        <p class="setting-description">Resizes the image proportionally to 1920px width.</p>
                    </div>

                    <div class="settings-group">
                        <label for="format-select" class="select-label">Output Format:</label>
                        <select id="format-select" class="format-select">
                            <option value="image/webp" selected>WebP (Efficient)</option>
                            <option value="image/png">PNG (Lossless)</option>
                            <option value="image/jpeg">JPEG (Photo)</option>
                        </select>
                        <p class="setting-description">WebP offers significantly smaller file sizes.</p>
                    </div>
                </div>

                <!-- Right Column: New Watermark Controls -->
                <div class="controls-column">
                    <h3>
                        <label class="checkbox-wrapper-header">
                            <input type="checkbox" id="add-watermark-checkbox" checked>
                            <span>Add Signature Watermark</span>
                        </label>
                    </h3>

                    <div id="watermark-settings" class="watermark-settings">
                        <div class="input-row">
                            <div class="input-group">
                                <label for="wm-opacity" data-tooltip="Adjust transparency of the text.">Opacity</label>
                                <div class="dual-input">
                                    <input type="range" id="wm-opacity-range" min="0" max="100" value="7">
                                    <div class="input-wrapper">
                                        <input type="number" id="wm-opacity" value="7" min="0" max="100" title="0-100">
                                        <span class="unit">%</span>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="wm-color" data-tooltip="Set the main text color.">Color</label>
                                <div class="dual-input">
                                    <input type="color" id="wm-color-picker" value="#ffffff">
                                    <input type="text" id="wm-color" value="white" title="white, #FFFFFF, or R,G,B">
                                </div>
                            </div>
                        </div>

                        <div class="input-row">
                            <div class="input-group">
                                <label for="wm-angle" data-tooltip="Rotate the watermark text.">Angle (Deg)</label>
                                <div class="dual-input">
                                    <input type="range" id="wm-angle-range" min="-180" max="180" step="1" value="45">
                                    <input type="number" id="wm-angle" value="45" step="5">
                                </div>
                                <div class="quick-actions">
                                    <button type="button" class="quick-btn" data-value="45">45°</button>
                                    <button type="button" class="quick-btn" data-value="-45">-45°</button>
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="wm-size-ratio" data-tooltip="Scale text relative to the image size.">Size
                                    Ratio</label>
                                <div class="dual-input">
                                    <input type="range" id="wm-size-range" min="1" max="25" step="1" value="6">
                                    <input type="number" id="wm-size-ratio" value="0.06" step="0.01">
                                </div>
                            </div>
                        </div>

                        <div class="input-row">
                            <div class="input-group">
                                <label for="wm-stroke-color" data-tooltip="Set the text outline color.">Stroke
                                    Color</label>
                                <div class="dual-input">
                                    <input type="color" id="wm-stroke-color-picker" value="#000000">
                                    <input type="text" id="wm-stroke-color" value="black">
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="wm-stroke-opacity" data-tooltip="fading in and fading out">Stroke
                                    Opacity</label>
                                <div class="dual-input">
                                    <input type="range" id="wm-stroke-opacity-range" min="0" max="100" value="20">
                                    <div class="input-wrapper">
                                        <input type="number" id="wm-stroke-opacity" value="20" min="0" max="100">
                                        <span class="unit">%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="status-message">Ready to process images.</div>
            <button id="download-btn" disabled>Download Clean Image</button>
        </div>

        <div class="preview-area">
            <div class="preview-box">
                <h3>Original</h3>
                <div id="original-preview" class="image-container">
                    <!-- Original image will be shown here -->
                </div>
            </div>
            <div class="preview-box">
                <h3>Right-bottom Corner Polished</h3>
                <div id="processed-preview" class="image-container">
                    <!-- Processed image will be shown here -->
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="watermark.js"></script>
</body>

</html>